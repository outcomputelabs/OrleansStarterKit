@page
@model Web.Pages.LobbyModel
@{
    ViewData["Title"] = "Lobby";
}

<h2>Lobby</h2>

<p>Welcome, @(Model.CurrentAccount.DisplayName). Why not follow these interesting people?</p>

<div class="lobby">
    <ul class="list-group">
        @foreach (var item in Model.Accounts.Where(u => u.UniformHandle != Model.CurrentAccount.UniformHandle).OrderBy(u => u.DisplayName))
        {
            <li class="list-group-item">
                <div class="row">
                    <div class="col-sm-6">
                        <h4>@item.DisplayName<small> @@@item.Handle</small></h4>
                    </div>
                    <div class="col-sm-6 text-right">
                        <form method="post" class="form-inline">
                            <input asp-for="FollowTarget" type="hidden" value="@item.UniformHandle" />
                            @if (Model.Following.Contains(item.UniformHandle))
                            {
                                <input asp-for="DoUnfollow" type="hidden" value="true" />
                                <input type="submit" class="form-control btn btn-warning" value="Unfollow" />
                            }
                            else
                            {
                                <input asp-for="DoFollow" type="hidden" value="true" />
                                <input type="submit" class="form-control btn btn-primary" value="Follow" />
                            }
                        </form>
                    </div>
                </div>
            </li>
        }
    </ul>
</div>